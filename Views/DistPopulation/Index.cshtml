@{
    ViewData["Title"] = "Upload Population Data";
}
<div class="container">
    <h2>Upload Population Data</h2>
    <ejs-tab id="ej2Tab" items="ViewBag.headeritems" heightAdjustMode="Content" overflowMode="Scrollable" animation="ViewBag.animation"></ejs-tab>
    <div style="display: none" id="Grid1">
        <form method="post" enctype="multipart/form-data" asp-controller="PopUploadFiles" asp-action="Index">
            <div class="col-md-12">
                <h2>Upload Population</h2>
                <p>Upload of only one correct excel file will work:</p>
                <input type="file" name="files" multiple />
            </div>
            <div class="col-md-12">
                <input type="submit" value="Upload" />
            </div>

            <div class="row">
                <div class="col-md-12">
                    <ejs-grid id="PopGridOne" allowSorting="true" allowResizing="true" toolbar="@(new List<string>() {"Add","Edit", "Delete", "Cancel"})" allowPaging="true">
                        <e-data-manager url="/DistPopulation/UrlDataSource" insertUrl="/DistPopulation/Insert"
                                        updateUrl="/DistPopulation/Update" adaptor="UrlAdaptor" removeUrl="/DistPopulation/Remove"></e-data-manager>
                        <e-grid-editSettings allowAdding="false" allowDeleting="false" allowEditing="false" mode="Dialog"></e-grid-editSettings>
                        <e-grid-columns>
                            <e-grid-column field="id" headerText="ID" isPrimaryKey="true" textAlign="Left" width="50"></e-grid-column>
                            <e-grid-column field="popYear" headerText="Year" textAlign="Left" width="70"></e-grid-column>
                            <e-grid-column field="distCode" foreignKeyField="DistrictId" headerText="District" foreignKeyValue="DistrictName"
                                           dataSource="ViewBag.dists" extAlign="Left" width="130"></e-grid-column>
                            <e-grid-column field="pop" headerText="Population" textAlign="Left" width="90"></e-grid-column>
                        </e-grid-columns>
                    </ejs-grid>

                </div>
            </div>
        </form>
    </div>
    <div style="display: none" id="Grid2">
        <div class="row">
            <div class="col-md-12">
                <ejs-grid id="PopGridTwo" allowSorting="true" allowFiltering="true" allowResizing="true" allowPaging="true">
                    <e-grid-filterSettings type="Excel"></e-grid-filterSettings>
                    <e-data-manager url="/DistPopulation/PermUrlDataSource" insertUrl="/DistPopulation/Insert"
                                    updateUrl="/DistPopulation/Update" adaptor="UrlAdaptor" removeUrl="/DistPopulation/Remove"></e-data-manager>
                    <e-grid-editSettings allowAdding="false" allowDeleting="false" allowEditing="false" mode="Dialog"></e-grid-editSettings>
                    <e-grid-columns>
                        <e-grid-column field="id" headerText="ID" isPrimaryKey="true" textAlign="Left" width="50"></e-grid-column>
                        <e-grid-column field="popYear" headerText="Year" textAlign="Left" width="70"></e-grid-column>
                        <e-grid-column field="distCode" foreignKeyField="DistrictId" headerText="District" foreignKeyValue="DistrictName"
                                       dataSource="ViewBag.dists" extAlign="Left" width="130"></e-grid-column>
                        <e-grid-column field="pop" headerText="Population" textAlign="Left" width="90"></e-grid-column>
                    </e-grid-columns>
                </ejs-grid>

            </div>
        </div>
    </div>
</div>
